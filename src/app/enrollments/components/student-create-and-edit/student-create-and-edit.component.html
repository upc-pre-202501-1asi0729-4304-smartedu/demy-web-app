
<form #studentForm="ngForm" (ngSubmit)="onSubmit()" class="student-form">
  <h2>{{ editMode ? 'Edit Student': 'New Student' }}</h2>

  <div class="form-row">
    <mat-form-field appearance="outline" class="form-field">
      <mat-label>DNI</mat-label>
      <input matInput required [(ngModel)]="student.dni" name="dni" #dni="ngModel" maxlength="8" pattern="[0-9]{8}">
      <!--      <mat-error *ngIf="dni.invalid && (dni.dirty || dni.touched)">-->
      <!--        DNI debe tener 8 dígitos numéricos-->
      <!--      </mat-error>-->
    </mat-form-field>
  </div>

  <div class="form-row">
    <mat-form-field appearance="outline" class="form-field">
      <mat-label>Nombres</mat-label>
      <input matInput required [(ngModel)]="student.firstName" name="first_name" #firstName="ngModel">
      <!--      <mat-error *ngIf="firstName.invalid && (firstName.dirty || firstName.touched)">-->
      <!--        Nombres es requerido-->
      <!--      </mat-error>-->
    </mat-form-field>
  </div>

  <div class="form-row">
    <mat-form-field appearance="outline" class="form-field">
      <mat-label>Apellidos</mat-label>
      <input matInput required [(ngModel)]="student.lastName" name="last_name" #lastName="ngModel">
      <!--      <mat-error *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)">-->
      <!--        Apellidos es requerido-->
      <!--      </mat-error>-->
    </mat-form-field>
  </div>

  <div class="form-row">
    <mat-form-field appearance="outline" class="form-field">
      <mat-label>Sexo</mat-label>
      <mat-select required [(ngModel)]="student.sex" name="sex" #sex="ngModel">
        @for (option of sexOptions; track option.value) {
          <mat-option [value]="option.value" >
            {{option.viewValue}}
          </mat-option>
        }

      </mat-select>
      <!--      <mat-error *ngIf="sex.invalid && (sex.dirty || sex.touched)">-->
      <!--        Sexo es requerido-->
      <!--      </mat-error>-->
    </mat-form-field>
  </div>

  <div class="form-row">
    <mat-form-field appearance="outline" class="form-field">
      <mat-label>Fecha de Nacimiento</mat-label>
      <input matInput required [(ngModel)]="student.birthDate" name="birth_date" #birthDate="ngModel" type="date">
      <!--      <mat-error *ngIf="birthDate.invalid && (birthDate.dirty || birthDate.touched)">-->
      <!--        Fecha de nacimiento es requerida-->
      <!--      </mat-error>-->
    </mat-form-field>
  </div>

  <div class="form-row">
    <mat-form-field appearance="outline" class="form-field">
      <mat-label>Dirección</mat-label>
      <input matInput required [(ngModel)]="student.address" name="address" #address="ngModel">
      <!--      <mat-error *ngIf="address.invalid && (address.dirty || address.touched)">-->
      <!--        Dirección es requerida-->
      <!--      </mat-error>-->
    </mat-form-field>
  </div>

  <div class="form-row">
    <mat-form-field appearance="outline" class="form-field">
      <mat-label>Teléfono</mat-label>
      <input matInput required [(ngModel)]="student.phoneNumber" name="phone_number" #phoneNumber="ngModel" pattern="[0-9]{9}">
      <!--      <mat-error *ngIf="phoneNumber.invalid && (phoneNumber.dirty || phoneNumber.touched)">-->
      <!--        Teléfono debe tener 9 dígitos numéricos-->
      <!--      </mat-error>-->
    </mat-form-field>
  </div>

  <div class="form-actions">
    <button mat-raised-button color="primary" type="submit" [disabled]="!studentForm.valid">
      {{ isEditMode() ? 'Actualizar Estudiante' : 'Registrar Estudiante'}}
    </button>
    <button mat-button type="button" (click)="resetEditState()">Cancelar</button>
  </div>
</form>

<!--seccion para registrar la matricula-->
